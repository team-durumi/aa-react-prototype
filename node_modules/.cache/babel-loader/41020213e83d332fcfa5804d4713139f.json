{"ast":null,"code":"var _jsxFileName = \"/Users/css3studio/Documents/Projects/04_projects/2020/react/src/views/Collection.js\";\nimport React, { Suspense, lazy, Component } from 'react';\nimport '../css/da-objects.css';\nexport default class Collection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      header: null,\n      items: [],\n      collection: []\n    };\n  } //API 호출\n\n\n  componentDidMount() {\n    /*\n    fetch(\"http://aa.durumi.io/aa/items/\"+this.props.item)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            header: React.lazy(() => import('../components/daMdl/Tblog/Mheader.js')),\n            double: React.lazy(() => import('../components/daMdl/Tblog/MdoubleCrop.js')),\n            items: result.data\n          });\n         },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      );\n    */\n    fetch(\"/dummy/Collection.json\").then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        collection: result\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      items,\n      collection\n    } = this.state;\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Error: \", error.message);\n    } else if (!isLoaded) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Loading.........\");\n    } else {\n      //const Mheader = this.state.header;\n      //const MdoubleCrop = this.state.double;\n      var ItemType = null;\n      return React.createElement(\"div\", {\n        className: \"container daCol\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, collection.map(function (item, i) {\n        console.log(item.name);\n        ItemType = React.lazy(() => import('../components/daMdl/' + item.type + '/' + item.name + '.js'));\n        return React.createElement(Suspense, {\n          fallback: React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, \"Loading...\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(ItemType, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }));\n      }));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/css3studio/Documents/Projects/04_projects/2020/react/src/views/Collection.js"],"names":["React","Suspense","lazy","Component","Collection","constructor","props","state","error","isLoaded","header","items","collection","componentDidMount","fetch","then","res","json","result","setState","render","message","ItemType","map","item","i","console","log","name","type"],"mappings":";AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,IAA1B,EAAgCC,SAAhC,QAAgD,OAAhD;AACA,OAAO,uBAAP;AAEA,eAAe,MAAMC,UAAN,SAAyBD,SAAzB,CAAmC;AAEhDE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,IADI;AAEXC,MAAAA,QAAQ,EAAE,KAFC;AAGXC,MAAAA,MAAM,EAAE,IAHG;AAIXC,MAAAA,KAAK,EAAC,EAJK;AAKXC,MAAAA,UAAU,EAAE;AALD,KAAb;AAQD,GAb+C,CAehD;;;AACAC,EAAAA,iBAAiB,GAAG;AAClB;;;;;;;;;;;;;;;;;;;;AAqBAC,IAAAA,KAAK,CAAC,wBAAD,CAAL,CACGC,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAGKG,MAAD,IAAY;AACV,WAAKC,QAAL,CAAc;AACZV,QAAAA,QAAQ,EAAE,IADE;AAEZG,QAAAA,UAAU,EAAEM;AAFA,OAAd;AAKD,KATL,EAUKV,KAAD,IAAW;AACT,WAAKW,QAAL,CAAc;AACZV,QAAAA,QAAQ,EAAE,IADE;AAEZD,QAAAA;AAFY,OAAd;AAID,KAfL;AAkBD;;AAEDY,EAAAA,MAAM,GAAG;AAEP,UAAM;AAAEZ,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBE,MAAAA,KAAnB;AAA0BC,MAAAA;AAA1B,QAAyC,KAAKL,KAApD;;AAEA,QAAIC,KAAJ,EAAW;AACT,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAaA,KAAK,CAACa,OAAnB,CAAP;AACD,KAFD,MAEO,IAAI,CAACZ,QAAL,EAAe;AACpB,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAP;AACD,KAFM,MAEA;AAIL;AACA;AACA,UAAIa,QAAQ,GAAG,IAAf;AAEA,aACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEGV,UAAU,CAACW,GAAX,CAAe,UAASC,IAAT,EAAeC,CAAf,EAAiB;AAC3BC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,IAAjB;AACJN,QAAAA,QAAQ,GAAGtB,KAAK,CAACE,IAAN,CAAW,MAAM,OAAO,yBAAuBsB,IAAI,CAACK,IAA5B,GAAiC,GAAjC,GAAqCL,IAAI,CAACI,IAA1C,GAA+C,KAAtD,CAAjB,CAAX;AACA,eACE,oBAAC,QAAD;AAAU,UAAA,QAAQ,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAKA,OARD,CAFH,CADF;AAqCD;AACF;;AAhH+C","sourcesContent":["\nimport React, { Suspense, lazy, Component} from 'react';\nimport '../css/da-objects.css';\n\nexport default class Collection extends Component {\n\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      error: null,\n      isLoaded: false,\n      header: null,\n      items:[],\n      collection: []\n    };\n\n  }\n\n  //API 호출\n  componentDidMount() {\n    /*\n    fetch(\"http://aa.durumi.io/aa/items/\"+this.props.item)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            header: React.lazy(() => import('../components/daMdl/Tblog/Mheader.js')),\n            double: React.lazy(() => import('../components/daMdl/Tblog/MdoubleCrop.js')),\n            items: result.data\n          });\n\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      );\n    */\n    fetch(\"/dummy/Collection.json\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            isLoaded: true,\n            collection: result\n          });\n\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      );\n\n  }\n\n  render() {\n\n    const { error, isLoaded, items, collection } = this.state;\n\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Loading.........</div>;\n    } else {\n\n\n\n      //const Mheader = this.state.header;\n      //const MdoubleCrop = this.state.double;\n      var ItemType = null;\n\n      return (\n        <div className=\"container daCol\">\n\n          {collection.map(function(item, i){\n                console.log(item.name);\n            ItemType = React.lazy(() => import('../components/daMdl/'+item.type+'/'+item.name+'.js'));\n            return (\n              <Suspense fallback={<div>Loading...</div>}>\n                <ItemType />\n              </Suspense>\n            );\n           })}\n\n\n{/*\n\n          {items.map(item => (\n          <div className=\"card mb-3\" key={item.id.toString()}>\n            <div className=\"row no-gutters\">\n              <div className=\"col-md-4\">\n                <img src=\"http://aa.durumi.io/aa/assets/fotx582wmqokk44s?key=directus-small-crop\" className=\"card-img\" alt=\"...\"/>\n              </div>\n              <div className=\"col-md-8\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">{item.title}</h5>\n                  <p className=\"card-text\">{item.description}</p>\n                  <p className=\"card-text\"><small className=\"text-muted\">{item.created_on}</small></p>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          ))}\n*/}\n        </div>\n      );\n\n    }\n  }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}